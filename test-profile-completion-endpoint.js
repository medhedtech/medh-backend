/**\n * Quick test script to verify profile completion endpoint\n * Run with: node test-profile-completion-endpoint.js\n */\n\nimport fetch from 'node-fetch';\n\nconst BASE_URL = 'http://localhost:5000';\n\n// Test without authentication first\nasync function testEndpointExists() {\n  try {\n    console.log('üß™ Testing if profile completion endpoint exists...\\n');\n    \n    const response = await fetch(`${BASE_URL}/api/v1/profile/me/completion`, {\n      method: 'GET',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n    });\n\n    console.log(`Status: ${response.status}`);\n    console.log(`Status Text: ${response.statusText}`);\n    \n    if (response.status === 401) {\n      console.log('‚úÖ Endpoint exists but requires authentication (expected)');\n      return true;\n    } else if (response.status === 404) {\n      console.log('‚ùå Endpoint not found - route not registered properly');\n      return false;\n    } else {\n      console.log('ü§î Unexpected response:', response.status);\n      const text = await response.text();\n      console.log('Response:', text);\n      return false;\n    }\n  } catch (error) {\n    console.error('‚ùå Error testing endpoint:', error.message);\n    return false;\n  }\n}\n\n// Test with a sample token (you'll need to replace this)\nasync function testWithAuth(token) {\n  try {\n    console.log('\\nüîê Testing with authentication...\\n');\n    \n    const response = await fetch(`${BASE_URL}/api/v1/profile/me/completion`, {\n      method: 'GET',\n      headers: {\n        'Authorization': `Bearer ${token}`,\n        'Content-Type': 'application/json',\n      },\n    });\n\n    console.log(`Status: ${response.status}`);\n    \n    if (response.ok) {\n      const data = await response.json();\n      console.log('‚úÖ Success! Profile completion data:');\n      console.log(JSON.stringify(data, null, 2));\n    } else {\n      const errorText = await response.text();\n      console.log('‚ùå Error response:', errorText);\n    }\n  } catch (error) {\n    console.error('‚ùå Error with auth test:', error.message);\n  }\n}\n\n// Main test function\nasync function runTests() {\n  console.log('üöÄ Profile Completion Endpoint Test\\n');\n  console.log('='.repeat(50));\n  \n  const endpointExists = await testEndpointExists();\n  \n  if (endpointExists) {\n    console.log('\\nüìù To test with authentication:');\n    console.log('1. Login to get a token');\n    console.log('2. Replace TOKEN_HERE in this script');\n    console.log('3. Uncomment the testWithAuth call below\\n');\n    \n    // Uncomment and add your token here to test with auth\n    // const token = 'YOUR_TOKEN_HERE';\n    // await testWithAuth(token);\n  } else {\n    console.log('\\nüîß Troubleshooting steps:');\n    console.log('1. Make sure backend server is running on port 5000');\n    console.log('2. Check if profileCompletionController is imported in routes');\n    console.log('3. Verify route is registered in profile-enhanced.routes.js');\n    console.log('4. Restart the backend server');\n  }\n}\n\nrunTests();
